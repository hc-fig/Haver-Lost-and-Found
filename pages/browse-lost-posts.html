<html>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        
        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
        <!-- Optional theme -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
        <!-- Custom styles for this template -->
        <link href="css/style.css" type="text/css" rel="stylesheet">
        
<!--                <script src="my_jquery_functions.js"></script>-->
        <script>
            $(document).ready(function(){
                
                
                
                    
                    $.post("/search", {search_query: "lost"}, function(result){
                        
                        
                        $(".results").empty();
                       
                        
                       
                        
                        
                        
                        
                        // Formats and displays the data appropriately
                        $(".results").append("<br><br>");
                        $(".results").append("<div class='row'>");
                        var color;
                        
                        
                        
                        for (var i = 0; i < result.posts.length; i++) {
                        
                            color = "crimson";
                            if (i %2 == 0){
                                color = "black";
                            }
                            
                            
                            
                            $(".results").append(
                                "<div class='col-md-4' style='border: 5px solid white; color: white; background-color: " + color + "';>" + 
                                "<h2><b>" + result.posts[i].item_name.substring(0, 1).toUpperCase() + result.posts[i].item_name.substring(1) + "</b></h2>" +
                                "<p><b> Username:</b> " + result.posts[i].username + "</p>" + 
                                "<p><b> Type:</b> " + result.posts[i].postType + "</p>" + 
                                "<p><b> Date added:</b> " + formatDate(new Date(result.posts[i].date)) + "</p>" +
                                "<p><b> Description:</b> " + result.posts[i].description + "</p>" +
                                "<br>" +
                                "</div>"
                                
                                
                            );
                        
                            
                        
                        }
                        
                        
                        if (result.posts.length == 0){
                            $(".results").append(
                            "<h2>Sorry, we have no lost posts at the moment.</h2>"
                            
                            );
                        }
                        
                        
                         
                        
                        
		      
	               });
               // Helper function for formatting dates using slash notation
                function formatDate(d) {  // d should be a Date object. Returns a string
                    return d.getMonth() + 1 + "/" + d.getDate() + "/" + d.getFullYear();
                }
            });
        </script>
        
    </head>
    <body>
        
        
        <div class = container>
             <div class="masthead">
                <div style='background-color: crimson; color: white; font-size: 50'>
                    <a href='https://www.haverford.edu/'><img style='padding: 10px' src='https://www.haverford.edu/sites/default/files/Office/Communications/Haverford-College-Logo.png' alt='Haverford College Logo' /></a>
                    <span style='float: right; padding: 30px'>
                        <b>&nbsp <span style="font-size: 45">The</span> Haverford Lost Bin</b
                    </span>
                </div>
                
                <nav>
                    <ul class="nav nav-justified">
                        <li><a href="/">Home</a></li>
                        <li><a href="submitNewPost">Submit a New Post</a></li>
                        <li class="active"><a href="browseLost">Browse Lost</a></li>
                        <li><a href="browseFound">Browse Found</a></li>
                        
                        
                    </ul>
                </nav>
            </div>
            <br>
            <h3>All Lost Posts:</h3>
            <div class = "results">
                
                <br>
            </div>
        </div>
        
        <!--############## Displays footer information ##############-->
        <div class = container>
            
            <footer class="footer">
                <p>Created by Pablo Thiel and Kadan Lottick</p>
            </footer>    
        
        </div>
    </body>
</html>